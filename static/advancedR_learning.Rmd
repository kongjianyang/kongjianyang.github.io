---
output: 
  html_document:
    self_contained: false
---


```{r}
library(tidyverse)
```

A functional is a function that takes a function as an input and returns a vector as output. 


```{r}
randomise <- function(f) f(runif(1e3))
randomise(mean)
```

passed mean function to the randomise functipn, which equal

```{r}
mean(runif(1e3))
```


```{r}
library(purrr)

triple <- function(x) x * 3
map(1:3, triple) # map the list to triple function
```

map() defines a mapping from one vector to another. (“Map” also has the nice property of being short, which is useful for such a fundamental building block.)

```{r}
simple_map <- function(x, f, ...) {
  out <- vector("list", length(x))
  for (i in seq_along(x)) {
    out[[i]] <- f(x[[i]], ...)
  }
  out
}
```

```{r}
# vector produces a vector of the given length and mode.

vector("list", 3) # creat three list
```


```{r}
seq_along(1:3)
```


```{r}
simple_map(1:3, triple)
```

each column in mtcars is a list, so can pass value into map function

```{r}
n_unique <- function(x) length(unique(x))
map_int(mtcars, n_unique) 
```






